# Feature 0002: Multi-Theme CSS System with Bubbles and Digital Themes

## Description
Add a theme selection system to the voice cloning application that allows users to choose between three visual themes: the existing default theme, a "Bubbles" theme offering a more bubbly and playful experience, and a "Digital" theme providing a Matrix-inspired cyberpunk aesthetic.

## Current Implementation Analysis
- CSS theming uses custom properties (CSS variables) in `app/globals.css`
- Light/dark mode support via `@media (prefers-color-scheme: dark)`
- Components use Tailwind classes with dark mode variants (`dark:bg-gray-800`)
- No existing theme switching mechanism
- App uses Next.js with TypeScript and React Query for state management

## Technical Requirements

### Phase 1: Theme System Infrastructure
**Files to modify/create:**
- `app/types/index.ts` - Add theme type definitions
- `app/hooks/useTheme.ts` - Custom hook for theme state management
- `app/providers.tsx` - Add theme context provider
- `app/globals.css` - Extend CSS variables for new themes

**Algorithm Implementation:**
1. Define theme types: 'default' | 'bubbles' | 'digital'
2. Create theme context with React Context API
3. Implement localStorage persistence for theme selection
4. Extend CSS custom properties to support three theme variants
5. Add theme-specific CSS classes and animations

### Phase 2: CSS Theme Definitions
**Files to modify:**
- `app/globals.css` - Add theme-specific CSS variable sets

**Theme-Specific Styling:**

#### Bubbles Theme:
- **Colors**: Soft pastels (pink, purple, blue, yellow)
- **Shapes**: Rounded corners, circular elements
- **Animations**: Floating bubbles, gentle bounces
- **Typography**: Rounded, friendly fonts
- **Background**: Gradient with floating bubble elements

#### Digital Theme:
- **Colors**: Neon greens, blacks, matrix-style palette
- **Shapes**: Sharp angles, geometric patterns
- **Animations**: Glitch effects, digital rain, scanning lines
- **Typography**: Monospace, terminal-style fonts
- **Background**: Dark with digital grid patterns

### Phase 3: Theme Selector Component
**Files to create:**
- `app/components/ThemeSelector.tsx` - Theme switching UI component

**Component Features:**
1. Visual theme preview cards
2. Smooth transition animations between themes
3. Accessibility support (keyboard navigation, screen readers)
4. Integration with existing navigation header

### Phase 4: Component Theme Integration
**Files to modify:**
- `app/components/Navigation.tsx` - Add theme selector to header
- `app/page.tsx` - Apply theme classes to main layout
- All existing components - Update to use theme-aware classes

**Integration Strategy:**
1. Replace hardcoded Tailwind classes with theme-aware variants
2. Implement theme-specific component styling
3. Add theme-specific animations and effects
4. Ensure accessibility across all themes

## Specific CSS Implementation Details

### CSS Variable Structure:
```css
:root {
  /* Default theme variables */
  --background: #ffffff;
  --foreground: #0f0f0f;
  /* ... existing variables ... */
}

[data-theme="bubbles"] {
  --background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
  --foreground: #6b46c1;
  --primary: #ec4899;
  --secondary: #a78bfa;
  /* ... bubbles-specific variables ... */
}

[data-theme="digital"] {
  --background: #000000;
  --foreground: #00ff00;
  --primary: #00ff41;
  --secondary: #00d4aa;
  /* ... digital-specific variables ... */
}
```

### Theme-Specific Animations:
- **Bubbles**: `@keyframes float`, `@keyframes bubble`, `@keyframes gentle-bounce`
- **Digital**: `@keyframes glitch`, `@keyframes digital-rain`, `@keyframes scan-line`

### Component Class Strategy:
```typescript
// Instead of: className="bg-white dark:bg-gray-800"
// Use: className={`${themeClasses.background} ${themeClasses.foreground}`}
```

## Data Flow Architecture
1. User selects theme via ThemeSelector component
2. Theme context updates global theme state
3. CSS custom properties update via data-theme attribute
4. All components re-render with new theme classes
5. Theme preference persisted to localStorage

## Integration Points
- Existing authentication system remains unchanged
- Voice management functionality unaffected
- Audio processing components maintain functionality
- All existing API routes remain compatible
- Theme switching works across all application routes

## Accessibility Considerations
- High contrast ratios maintained across all themes
- Keyboard navigation support for theme selector
- Screen reader announcements for theme changes
- Focus indicators visible in all theme variants
- Color-blind friendly color palettes

## Performance Considerations
- CSS variables for efficient theme switching
- Minimal JavaScript for theme state management
- Lazy loading of theme-specific assets
- Smooth transitions without layout shifts
